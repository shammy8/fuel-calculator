<mat-card>
  <mat-card-title
    >{{ carDetails.logo }} {{ carDetails.name }}
    <ng-content></ng-content>
  </mat-card-title>

  <mat-card-content>
    <app-efficiency-bar
      *ngIf="carDetails.latestHistory?.avgMilesPerVolume"
      [value]="carDetails.latestHistory.avgMilesPerVolume"
      unit="litres/mile"
      [upperLimit]="avgMilesPerVolumeUpperLimit"
      [lowerLimit]="avgMilesPerVolumeLowerLimit"
    ></app-efficiency-bar>

    <app-efficiency-bar
      *ngIf="carDetails.latestHistory?.avgPricePerMile"
      [value]="carDetails.latestHistory.avgPricePerMile"
      unit="£/mile"
      [upperLimit]="avgPricePerMileUpperLimit"
      [lowerLimit]="avgPricePerMileLowerLimit"
    ></app-efficiency-bar>

    <div class="totals" *ngIf="carDetails.latestHistory">
      <div class="total">
        <p class="lighter">Total mileage</p>
        <span class="mat-display-1">
          {{
            carDetails.latestHistory.mileageSinceRecordsBegan | number: '1.0-0'
          }}
        </span>
        <span class="lighter">mi.</span>
      </div>

      <div class="total">
        <p class="lighter">Total volume</p>
        <span class="mat-display-1">
          {{
            carDetails.latestHistory.volumeSinceRecordsBegan | number: '1.2-2'
          }}
        </span>
        <span class="lighter">l</span>
      </div>

      <div class="total">
        <p class="lighter">Total cost</p>
        <span class="lighter">£</span>
        <span class="mat-display-1">
          {{
            carDetails.latestHistory.costSinceRecordsBegan | currency: 'GBP':''
          }}
        </span>
      </div>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button color="primary">
      History
    </button>
    <button mat-raised-button (click)="onAddFuel()" color="primary">
      Add Fuel
    </button>
  </mat-card-actions>
</mat-card>
